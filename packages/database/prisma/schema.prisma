// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  // 엣지 환경(Cloudflare Workers)에서 사용하기 위한 필수 설정
  previewFeatures = []
}

datasource db {
  // 개발 초기 단계는 D1 (SQLite)를 타겟으로 함
  provider = "sqlite"
  url      = "file:./dev.db" // 로컬 개발용 DB 파일 경로
}

// 학생 그룹(Division)을 Enum으로 관리하면 데이터의 일관성을 보장할 수 있음
enum Division {
  H // Honors
  S // Scholastic
  V // Varsity
}

model Student {
  // "ID # (four numbers we create for them)"
  // 문자열로 지정해서 숫자 외의 형식(예: C2025-1234)도 유연하게 받을 수 있게 함
  id          String    @id

  // "User name (it’s a fake email we create for them)"
  username    String    @unique

  // "First Name", "Last Name"
  firstName   String
  lastName    String

  // "Division category (H,S,V)"
  division    Division

  // "Login ID (created by USAD testing system)"
  loginId     String    @unique
  
  // "PIN (created by USAD testing system)"
  // PIN은 민감 정보일 수 있고, 없을 수도 있으므로 선택적(Optional) 필드로 지정
  pin         String?

  state       String
  schoolName  String

  // Prisma가 자동으로 관리해주는 타임스탬프
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}